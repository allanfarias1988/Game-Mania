<script src="https://accounts.google.com/gsi/client" async defer></script>
<div class="login text-center text-white mt-5 py-5">
  <main class="form-signin">
    <form #userForm="ngForm" (ngSubmit)="submit()">
      <i class="bi bi-shield-lock"></i>
      <h1 class="h3 mb-3 fw-normal">Login</h1>

      <div class="form-floating text-black">
        <input
          type="email"
          class="form-control"
          id="email"
          placeholder="name@example.com"
          name="email"
          [(ngModel)]="userModel.email"
        />
        <label for="email">Email</label>
      </div>
      <div class="form-floating text-black">
        <input
          type="password"
          class="form-control"
          id="password"
          placeholder="Senha"
          name="password"
          [(ngModel)]="userModel.password"
        />
        <label for="password">Senha</label>
      </div>
      <div data-js="passInfo" class="container password-info d-none">
        <i class="bi bi-icon-info-circle"></i>
        <p>Digite uma senha com os seguintes requesitos:</p>
        <ul>
          <li>Mínimo de 8 caracteres <i class="bi bi-check-lg ms-2"></i></li>
          <li>Pelo menos um número <i class="bi bi-check-lg ms-2"></i></li>
          <li>
            Pelo menos uma letra minúscula <i class="bi bi-check-lg ms-2"></i>
          </li>
          <li>
            Pelo menos uma letra Maúscula <i class="bi bi-check-lg ms-2"></i>
          </li>
        </ul>
      </div>

      <div class="checkbox mb-3">
        <label>
          <input type="checkbox" value="remember-me" /> Relembre-me
        </label>
      </div>
      <button class="w-100 btn btn-lg btn-outline-light" type="submit">
        Entrar
      </button>
      <p class="mt-5">
        Ainda não é inscrito?
        <a routerLink="register" class="ms-2">Cadastre-se</a>
      </p>
      <div id="buttonDiv"></div>
    </form>
  </main>
</div>
<!-- GOOGLE AUTENTICATION -->
<script>
  function handleCredentialResponse(response) {
    console.log("Encoded JWT ID token: " + response.credential);
  }
  window.onload = function () {
    google.accounts.id.initialize({
      client_id: "YOUR_GOOGLE_CLIENT_ID",
      callback: handleCredentialResponse,
    });
    google.accounts.id.renderButton(
      document.getElementById("buttonDiv"),
      { theme: "outline", size: "large" } // customization attributes
    );
    google.accounts.id.prompt(); // also display the One Tap dialog
  };
</script>
